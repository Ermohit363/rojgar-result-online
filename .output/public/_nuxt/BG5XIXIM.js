import{_ as P}from"./5BJQ9Afn.js";import{_ as A}from"./DIAQ1Nls.js";import{u as E,q as L}from"./CV9gxlB4.js";import{p as V,g as j,h as e,q as F,u as M,c as x,a as g,t as R,F as T,r as H,j as d,i as b,w as h,e as I,o as r,d as w,s as S}from"#entry";const z={class:"max-w-7xl mx-auto w-full px-4 py-8"},G={class:"text-2xl font-bold mb-6"},J={class:"space-y-4"},K={class:"mt-8 flex justify-between items-center"},v=10,Z={__name:"[slug]",async setup(O){let n,_;const l=I(),y=V(),{data:f}=([n,_]=j(()=>E("posts",()=>L("posts").all())),n=await n,_(),n),t=e(()=>y.params.slug),c=e(()=>parseInt(y.query.page||"1")),o=e(()=>t.value.replace(/-/g," ").replace(/\b\w/g,a=>a.toUpperCase())),i=e(()=>(f.value||[]).filter(a=>a.meta.category?.toLowerCase().replace(/\s+/g,"-")===t.value).sort((a,s)=>{const u=new Date(a.meta?.date||0);return new Date(s.meta?.date||0)-u})),p=e(()=>(c.value-1)*v),$=e(()=>i.value.slice(p.value,p.value+v)),C=e(()=>i.value.length>p.value+v);F(()=>{if(f.value&&!i.value.length)throw S({statusCode:404,statusMessage:"Category not found"})});const k=e(()=>`${o.value} - ${l.public.siteName}`),N=e(()=>`Posts in ${o.value}`),B=e(()=>`${o.value} - ${l.public.siteName}`),D=e(()=>`Posts in ${o.value}`),U=e(()=>`${l.public.baseUrl}/category/${t.value}`),q=e(()=>`${l.public.baseUrl}/category/${t.value}`);return M({title:k,meta:[{name:"description",content:N.value},{property:"og:title",content:B.value},{property:"og:description",content:D.value},{property:"og:url",content:U.value}],link:[{rel:"canonical",href:q.value}]}),(a,s)=>{const u=P;return r(),x("div",z,[g("h1",G," Category: "+R(o.value),1),g("div",J,[(r(!0),x(T,null,H($.value,m=>(r(),d(A,{key:m.id,post:m},null,8,["post"]))),128))]),g("div",K,[c.value>1?(r(),d(u,{key:0,to:`/category/${t.value}?page=${c.value-1}`,class:"px-4 py-2 bg-amber-500 text-white rounded hover:bg-amber-600 transition"},{default:h(()=>[...s[0]||(s[0]=[w(" ← Previous ",-1)])]),_:1},8,["to"])):b("",!0),C.value?(r(),d(u,{key:1,to:`/category/${t.value}?page=${c.value+1}`,class:"px-4 py-2 bg-amber-500 text-white rounded hover:bg-amber-600 transition ml-auto"},{default:h(()=>[...s[1]||(s[1]=[w(" Next → ",-1)])]),_:1},8,["to"])):b("",!0)])])}}};export{Z as default};
